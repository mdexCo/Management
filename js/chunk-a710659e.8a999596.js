(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a710659e"],{"5e6e":function(t,e,n){"use strict";n("bbeb")},"8e07":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",[n("el-select",{staticStyle:{"margin-right":"10px",width:"100px"},attrs:{placeholder:"请选择网络"},on:{change:t.changeChanid},model:{value:t.chain_id,callback:function(e){t.chain_id=e},expression:"chain_id"}},[n("el-option",{attrs:{label:"全部",value:"0"}}),n("el-option",{attrs:{label:"Heco网",value:"128"}}),n("el-option",{attrs:{label:"Bsc网",value:"56"}})],1),n("el-select",{staticStyle:{"margin-right":"10px",width:"100px"},attrs:{placeholder:"上下架筛选"},on:{change:t.changeChanid},model:{value:t.statusLook,callback:function(e){t.statusLook=e},expression:"statusLook"}},[n("el-option",{attrs:{label:"全部",value:"2"}}),n("el-option",{attrs:{label:"上架",value:"1"}}),n("el-option",{attrs:{label:"下架",value:"0"}})],1),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"项目名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:t.search}},[t._v("查询 ")]),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.$router.push("nftbannerinfo")}}},[t._v("创建banner ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"20px"},attrs:{data:t.tableData,border:"","header-cell-style":t.getRowClass,width:"100%"}},[n("el-table-column",{attrs:{label:"排序",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(e.row.sort))])]}}])}),n("el-table-column",{attrs:{label:"名称",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(e.row.title))])]}}])}),n("el-table-column",{attrs:{label:"网络",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s("56"==e.row.chain_id?"Bsc网":"Heco网"))])]}}])}),n("el-table-column",{attrs:{label:"PC图片",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",{staticClass:"img_contain"},[n("el-card",{attrs:{"body-style":{padding:"0px",height:"100px",display:"flex"}}},[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.showInfo[0].imagePath,"preview-src-list":[].concat(t.row.showInfo[0].imagePath)}})],1),n("el-card",{attrs:{"body-style":{padding:"0px",height:"100px",display:"flex"}}},[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.showInfo[0].imagePath,"preview-src-list":[].concat(t.row.showInfo[1].imagePath)}})],1)],1)]}}])}),n("el-table-column",{attrs:{label:"h5图片",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",{staticClass:"img_contain"},[n("el-card",{attrs:{"body-style":{padding:"0px",height:"100px",display:"flex"}}},[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.showInfo[1].imagePath,"preview-src-list":[].concat(t.row.showInfo[1].imagePath)}})],1),n("el-card",{attrs:{"body-style":{padding:"0px",height:"100px",display:"flex"}}},[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.showInfo[1].imagePath,"preview-src-list":[].concat(t.row.showInfo[1].imagePath)}})],1)],1)]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t.statusName(e.row.status)))])]}}])}),n("el-table-column",{attrs:{label:"PC链接",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{href:e.row.showInfo[0].linkUrl,target:"_blank"}},[t._v("中文")]),t._v(" "),n("br"),n("el-link",{attrs:{href:e.row.showInfo[0].linkUrll,target:"_blank"}},[t._v("英文")])]}}])}),n("el-table-column",{attrs:{label:"H5链接",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{href:e.row.showInfo[1].linkUrl,target:"_blank"}},[t._v("中文")]),t._v(" "),n("br"),n("el-link",{attrs:{href:e.row.showInfo[1].linkUrl,target:"_blank"}},[t._v("英文")])]}}])}),n("el-table-column",{attrs:{label:"开始时间/结束时间",align:"center","min-width":"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.formatDate(e.row.startTime/1e3)))]),n("br"),n("i",{staticClass:"el-icon-time"}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.formatDate(e.row.endTime/1e3)))])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.row.bannerId)}}},[t._v("编辑")]),n("el-button",{attrs:{size:"mini",type:0==e.row.status?"warning":"danger"},on:{click:function(n){return t.handleOut(n,e.row.bannerId)}}},[t._v(t._s(t.buttonName(e.row.status)))])]}}])})],1),n("div",[n("el-pagination",{attrs:{align:"center",background:"",layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},r=[],i=n("5530"),s=n("1da1"),l=(n("a9e3"),n("4de4"),n("96cf"),n("7f33")),o=n("61f7"),c={name:"nftbanner",data:function(){return{statusLook:"2",chain_id:"",keyword:"",showImg:!1,checked:!0,tableData:[],page:"1",total:0,per_page:10,loading:!1,formatDate:o["f"]}},created:function(){this.fnGetList()},computed:{statusName:function(){return function(t){switch(t){case 0:return"未生效";case 1:return"已发布"}}},buttonName:function(){return function(t){switch(t){case 1:return"已上架";case 0:return"上架"}}}},watch:{},methods:{getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:RGB(238,239,246)":""},search:function(){this.fnGetList()},changeChanid:function(){this.fnGetList()},handleCurrentChange:function(t){this.page=t,this.fnGetList()},changeStatus:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,changeBanner(t);case 2:a=n.sent,200==a.status&&(e.fnGetList(),e.$message({type:"success",message:"修改成功!"}));case 4:case"end":return n.stop()}}),n)})))()},fnGetList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,Object(l["g"])({page:t.page,per_page:10,keyword:t.keyword,chain_id:Number(t.chain_id),status:Number(t.statusLook)});case 4:n=e.sent,t.loading=!1,t.tableData=n.data.result,t.total=Number(n.data.total),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},handleEdit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["f"])(t);case 2:a=n.sent,200==a.status&&e.$router.push({path:"nftbannerinfo",query:Object(i["a"])({},a.data)});case 4:case"end":return n.stop()}}),n)})))()},handleDelete:function(t){var e=this;this.$confirm("此操作将删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,deleteBanner({id:t});case 2:n.sent,e.$message({type:"success",message:"删除成功!"}),e.fnGetList();case 5:case"end":return n.stop()}}),n)}))))},handleOut:function(t,e,n){var a=this;t.target.innerText,"已上架"!=t.target.innerText&&this.$confirm("此操作将下架该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["c"])(e);case 2:a.fnGetList();case 3:case"end":return t.stop()}}),t)}))))},handleChange:function(){},changeNumber:function(t,e){var n=this;this.$confirm("你确定改变序号为".concat(t,"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.changeStatus({sort:t,id:e})})).catch((function(){n.fnGetList()}))},lookOnly:function(){this.tableData=this.tableData.filter((function(t){return 2==t.status}))}}},u=c,h=(n("5e6e"),n("2877")),d=Object(h["a"])(u,a,r,!1,null,"04f5899a",null);e["default"]=d.exports},bbeb:function(t,e,n){}}]);