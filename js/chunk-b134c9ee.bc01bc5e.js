(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b134c9ee"],{"04d1":function(e,t,a){var r=a("342f"),n=r.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"21a1":function(e,t,a){},"4e82":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),o=a("7b0b"),s=a("50c4"),i=a("d039"),l=a("addb"),c=a("a640"),u=a("04d1"),p=a("d998"),f=a("2d00"),h=a("512ce"),d=[],m=d.sort,v=i((function(){d.sort(void 0)})),g=i((function(){d.sort(null)})),b=c("sort"),w=!i((function(){if(f)return f<70;if(!(u&&u>3)){if(p)return!0;if(h)return h<603;var e,t,a,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(r=0;r<47;r++)d.push({k:t+r,v:a})}for(d.sort((function(e,t){return t.v-e.v})),r=0;r<d.length;r++)t=d[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),k=v||!g||!b||!w,y=function(e){return function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:String(t)>String(a)?1:-1}};r({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&n(e);var t=o(this);if(w)return void 0===e?m.call(t):m.call(t,e);var a,r,i=[],c=s(t.length);for(r=0;r<c;r++)r in t&&i.push(t[r]);i=l(i,y(e)),a=i.length,r=0;while(r<a)t[r]=i[r++];while(r<c)delete t[r++];return t}})},"512ce":function(e,t,a){var r=a("342f"),n=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},"961a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"title"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"备注说明"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"网络",prop:"chain_id"}},[a("el-select",{attrs:{placeholder:"请选择网络"},model:{value:e.form.chain_id,callback:function(t){e.$set(e.form,"chain_id",e._n(t))},expression:"form.chain_id"}},[a("el-option",{attrs:{label:"Heco网",value:parseInt(128)}}),a("el-option",{attrs:{label:"Bsc网",value:parseInt(56)}})],1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",e._n(t))},expression:"form.status"}},[a("el-option",{attrs:{label:"上架",value:parseInt(1)}}),a("el-option",{attrs:{label:"下架",value:parseInt(0)}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"margin-right":"100px"},attrs:{label:"pc中文图"}},[a("div",{staticClass:"upload"},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:e.uploadAction,headers:e.tokens,"show-file-list":!1,"with-credentials":!1,name:"file","on-success":function(t,a){return e.handleAvatarSuccess(t,a,"pcCh")},"before-upload":e.beforeAvatarUpload}},[e.showInfo[0].imagePath?a("img",{staticClass:"avatar",attrs:{src:e.showInfo[0].imagePath}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-select",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{placeholder:"跳转类型",prop:"pc_link"},model:{value:e.showInfo[0].linkType,callback:function(t){e.$set(e.showInfo[0],"linkType",t)},expression:"showInfo[0].linkType"}},[a("el-option",{attrs:{label:"内部链接",value:parseInt(0)}}),a("el-option",{attrs:{label:"外部链接",value:parseInt(1)}})],1),a("div",[e._v("跳转链接：")]),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"不填跳转信息需选择类型为内部"},on:{input:function(t){return e.change(t)}},model:{value:e.showInfo[0].linkUrl,callback:function(t){e.$set(e.showInfo[0],"linkUrl",t)},expression:"showInfo[0].linkUrl"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"pc英文图"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,headers:e.tokens,"show-file-list":!1,"with-credentials":!1,name:"file","on-success":function(t,a){return e.handleAvatarSuccess(t,a,"pcEn")},"before-upload":e.beforeAvatarUpload}},[e.showInfo[1].imagePath?a("img",{staticClass:"avatar",attrs:{src:e.showInfo[1].imagePath}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-select",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{placeholder:"跳转类型"},model:{value:e.showInfo[1].linkType,callback:function(t){e.$set(e.showInfo[1],"linkType",t)},expression:"showInfo[1].linkType"}},[a("el-option",{attrs:{label:"内部链接",value:parseInt(0)}}),a("el-option",{attrs:{label:"外部链接",value:parseInt(1)}})],1),a("div",[e._v("跳转链接：")]),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"不填跳转信息需选择类型为内部"},on:{input:function(t){return e.change(t)}},model:{value:e.showInfo[1].linkUrl,callback:function(t){e.$set(e.showInfo[1],"linkUrl",t)},expression:"showInfo[1].linkUrl"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"margin-right":"100px"},attrs:{label:"手机中文图"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,headers:e.tokens,"show-file-list":!1,"with-credentials":!1,name:"file","on-success":function(t,a){return e.handleAvatarSuccess(t,a,"phoneCh")},"before-upload":e.beforeAvatarUpload}},[e.showInfo[2].imagePath?a("img",{staticClass:"avatar",attrs:{src:e.showInfo[2].imagePath}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-select",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{placeholder:"跳转类型"},model:{value:e.showInfo[2].linkType,callback:function(t){e.$set(e.showInfo[2],"linkType",t)},expression:"showInfo[2].linkType"}},[a("el-option",{attrs:{label:"内部链接",value:parseInt(0)}}),a("el-option",{attrs:{label:"外部链接",value:parseInt(1)}})],1),a("div",[e._v("跳转链接：")]),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"不填跳转信息需选择类型为内部"},on:{input:function(t){return e.change(t)}},model:{value:e.showInfo[2].linkUrl,callback:function(t){e.$set(e.showInfo[2],"linkUrl",t)},expression:"showInfo[2].linkUrl"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机英文图"}},[a("div",{staticClass:"upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,headers:e.tokens,"show-file-list":!1,"with-credentials":!1,name:"file","on-success":function(t,a){return e.handleAvatarSuccess(t,a,"phoneEn")},"before-upload":e.beforeAvatarUpload}},[e.showInfo[3].imagePath?a("img",{staticClass:"avatar",attrs:{src:e.showInfo[3].imagePath}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-select",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{placeholder:"跳转类型"},model:{value:e.showInfo[3].linkType,callback:function(t){e.$set(e.showInfo[3],"linkType",t)},expression:"showInfo[3].linkType"}},[a("el-option",{attrs:{label:"内部链接",value:parseInt(0)}}),a("el-option",{attrs:{label:"外部链接",value:parseInt(1)}})],1),a("div",[e._v("跳转链接：")]),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"不填跳转信息需选择类型为内部"},on:{input:function(t){return e.change(t)}},model:{value:e.showInfo[3].linkUrl,callback:function(t){e.$set(e.showInfo[3],"linkUrl",t)},expression:"showInfo[3].linkUrl"}})],1)],1)],1),a("el-form-item",{attrs:{label:"图片序号",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",e._n(t))},expression:"form.sort"}}),e._v(" 数字越大越靠前 ")],1),a("el-form-item",{attrs:{label:"活动时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-form-item",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{attrs:{type:"info"},on:{click:e.resetForm}},[e._v("重置")]),a("el-button",{on:{click:function(t){return e.$router.push("record")}}},[e._v("返回")])],1)],1)],1)],1)},n=[],o=a("5530"),s=a("1da1"),i=(a("96cf"),a("a4d3"),a("e01a"),a("4e82"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("c740"),a("7f33")),l=a("61f7"),c=(a("cc33"),{name:"nftbanner",data:function(){return{pcCh:"",pcEn:"",phoneCh:"",phoneEn:"",uploadAction:l["g"]+"admin/file/upload",tokens:{"X-Token":"256b3a47f00f99022ea33db641132322",ContentType:"multipart/form-data"},date:"",form:{title:"",chain_id:"",description:"",sort:"",status:1},showInfo:[{imagePath:"",type:"pcCh",linkType:"",linkUrl:""},{imagePath:"",type:"pcEn",linkType:"",linkUrl:""},{imagePath:"",type:"phoneCh",linkType:"",linkUrl:""},{imagePath:"",type:"phoneEn",linkType:"",linkUrl:""}],rules:{image_pc_cn:[{required:!0,message:"请上传图片"}],pcEn:[{required:!0,message:"请上传图片"}],phoneCh:[{required:!0,message:"请上传图片"}],phoneEn:[{required:!0,message:"请上传图片"}],title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{max:40,message:"长度在 40 个字符",trigger:"change"}],sort:[{required:!0,message:"请输入图片序号",trigger:"blur"},{type:"number",message:"数量必须为数字值",trigger:"blur"}],chain_id:[{required:!0,message:"请选择网络",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],date:[{required:!0,message:"请选择日期",trigger:"change"}]}}},created:function(){this.info(),this.$route.query},methods:{info:function(){this.$route.query.title&&(this.showInfo=this.$route.query.showInfo,this.form.title=this.$route.query.title,this.form.chain_id=this.$route.query.chain_id,this.form.description=this.$route.query.description,this.form.sort=this.$route.query.sort,this.form.status=this.$route.query.status,this.$set(this,"date",[this.$route.query.startTime,this.$route.query.endTime]))},change:function(e){this.$forceUpdate()},handelRemove:function(e){this[e]="",this.form[e]=""},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.$confirm("你确定保存吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$route.query?e.editInfo():e.addAllInfo()}))}))},addAllInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign(e.form,{startTime:Number(e.date[0]),endTime:Number(e.date[1])}),r=Object(o["a"])({showInfo:e.showInfo},a),t.prev=3,t.next=6,Object(i["b"])(r);case 6:n=t.sent,201==n.status?(e.$router.push("nftbanner"),e.$message({type:"success",message:"保存成功!"})):e.$message.error("保存失败!"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.$message.error("保存失败!");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},editInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign(e.form,{startTime:Number(e.date[0]),endTime:Number(e.date[1])}),r=Object(o["a"])({showInfo:e.showInfo},a),t.prev=3,t.next=6,Object(i["d"])(e.$route.query.bannerId,r);case 6:n=t.sent,200==n.status?(e.$router.push("nftbanner"),e.$message({type:"success",message:"编辑成功!"})):e.$message.error("编辑失败!"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.$message.error("编辑失败!");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},resetForm:function(){this.$refs.form.resetFields(),this.$refs.upload.clearFiles(),this.form={},this.date="",this.showInfo=[{imagePath:"",type:"pcCh",linkType:"",linkUrl:""},{imagePath:"",type:"pcEn",linkType:"",linkUrl:""},{imagePath:"",type:"phoneCh",linkType:"",linkUrl:""},{imagePath:"",type:"phoneEn",linkType:"",linkUrl:""}]},handleAvatarSuccess:function(e,t,a){this[a]=URL.createObjectURL(t.raw);var r=this.showInfo.findIndex((function(e){return e.type==a}));this.showInfo[r].imagePath=e.result.path,this.$refs.form.validateField("file")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type,a=e.size/1024/1024<1;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传图片大小不能超过 1MB!"),t&&a}}}),u=c,p=(a("edca"),a("2877")),f=Object(p["a"])(u,r,n,!1,null,"3d0761ad",null);t["default"]=f.exports},addb:function(e,t){var a=Math.floor,r=function(e,t){var s=e.length,i=a(s/2);return s<8?n(e,t):o(r(e.slice(0,i),t),r(e.slice(i),t),t)},n=function(e,t){var a,r,n=e.length,o=1;while(o<n){r=o,a=e[o];while(r&&t(e[r-1],a)>0)e[r]=e[--r];r!==o++&&(e[r]=a)}return e},o=function(e,t,a){var r=e.length,n=t.length,o=0,s=0,i=[];while(o<r||s<n)o<r&&s<n?i.push(a(e[o],t[s])<=0?e[o++]:t[s++]):i.push(o<r?e[o++]:t[s++]);return i};e.exports=r},c740:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").findIndex,o=a("44d2"),s="findIndex",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},d998:function(e,t,a){var r=a("342f");e.exports=/MSIE|Trident/.test(r)},e01a:function(e,t,a){"use strict";var r=a("23e7"),n=a("83ab"),o=a("da84"),s=a("5135"),i=a("861d"),l=a("9bf2").f,c=a("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var p={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(p[t]=!0),t};c(f,u);var h=f.prototype=u.prototype;h.constructor=f;var d=h.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=d.call(e);if(s(p,e))return"";var a=m?t.slice(7,-1):t.replace(v,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:f})}},edca:function(e,t,a){"use strict";a("21a1")}}]);