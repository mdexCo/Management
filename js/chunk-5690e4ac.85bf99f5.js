(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5690e4ac"],{"861c":function(t,e,a){},"9bd9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",{staticClass:"main"},[a("div",{staticClass:"item",staticStyle:{"margin-right":"10px"}},[a("span",[t._v("请选择网络：")]),a("el-select",{attrs:{placeholder:"网络"},model:{value:t.form.chain_id,callback:function(e){t.$set(t.form,"chain_id",e)},expression:"form.chain_id"}},[a("el-option",{attrs:{label:"全部网络",value:""}}),a("el-option",{attrs:{label:"Bsc",value:"56"}}),a("el-option",{attrs:{label:"Heco",value:"128"}})],1)],1),a("div",{staticClass:"item"},[a("span",[t._v("申请日期：")]),a("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},model:{value:t.form.query_date,callback:function(e){t.$set(t.form,"query_date",e)},expression:"form.query_date"}})],1),a("div",{staticStyle:{"margin-right":"10px"}},[a("span",[t._v("董事地址：")]),a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}})],1),a("div",{staticClass:"item",staticStyle:{"margin-right":"10px"}},[a("span",[t._v("董事状态：")]),a("el-select",{attrs:{placeholder:"董事状态："},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部董事状态",value:"0"}}),a("el-option",{attrs:{label:"待审核董事",value:"1"}}),a("el-option",{attrs:{label:"候选董事",value:"2"}}),a("el-option",{attrs:{label:"正式董事",value:"3"}}),a("el-option",{attrs:{label:"董事已退出",value:"4"}})],1)],1),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isloading,expression:"isloading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",fit:!0,"header-cell-style":t.getRowClass}},[a("el-table-column",{attrs:{align:"center",label:"当前排名",width:"180px",type:"index"}}),t._l(t.tabelHead,(function(e,n){return a("el-table-column",{key:n,attrs:{align:"center",prop:e.value,label:e.label},scopedSlots:t._u([{key:"default",fn:function(e){return[["deposit_amount"].includes(e.column.property)?a("span",[t._v(t._s(Number(e.row[e.column.property]).toFixed(2)))]):"is_official"==e.column.property?a("span",[t._v(t._s("1"==e.row[e.column.property]?"是":"否"))]):"status"==e.column.property?a("span",[t._v(t._s(t.status(e.row[e.column.property])))]):a("span",[t._v(t._s(e.row[e.column.property]))])]}}],null,!0)})})),a("el-table-column",{attrs:{label:"董事会说明",align:"center",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"dec"},[t._v(" "+t._s(e.row.dao_desc)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("div",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return t.btnPass(e.row.id,"通过")}}},[t._v("通过")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.btnPass(e.row.id,"拒绝")}}},[t._v("拒绝")])],1):a("div",[t._v(" 无 ")])]}}])})],2),a("el-pagination",{attrs:{align:"center","page-size":15,layout:"total, prev, pager, next",total:t.totalPage},on:{"current-change":t.handleCurrentChange}})],1)},l=[],r=a("5530"),o=a("1da1"),s=(a("96cf"),a("b775")),i=function(t){return Object(s["a"])({url:"dao/list",method:"get",params:t})},u=function(t){return Object(s["a"])({url:"dao/apply",method:"post",params:t})},c=function(t){return Object(s["a"])({url:"dao/refuse",method:"post",params:t})},d=a("5a0c"),p=a("0ecf"),m={name:"director",data:function(){return{tableData:[],totalPage:0,form:{chain_id:"",query_date:"",keywords:"",status:""},isloading:!1,tabelHead:[{label:"提案名称",value:"dao_name"},{label:"发起提案地址",value:"address"},{label:"申请时间",value:"created_at"},{label:"质押凭证数",value:"deposit_amount"},{label:"发起提案的哈希",value:"tx_hash"},{label:"发起提案的区块高度",value:"block_number"},{label:"实时票数",value:"dao_votes"},{label:"30日均票数",value:"avg_votes"},{label:"是否为正式节点",value:"is_official"},{label:"董事状态",value:"status"}]}},created:function(){this.getDaoList()},computed:{status:function(){return function(t){return 1==t?"待审核":2==t?"候选":3==t?"正式":4==t?"失效":5==t?"已退回":8==t?"创建中":"已拒绝"}}},methods:{getDaoList:function(){var t=arguments,e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,l,o,s,u,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.length>0&&void 0!==t[0]?t[0]:1,d.extend(p),s=d(null===(n=e.form["query_date"])||void 0===n?void 0:n[0]).utc().format("YYYY-MM-DD HH:mm:ss"),u=d((null===(l=e.form["query_date"])||void 0===l?void 0:l[1])+86399999).utc().format("YYYY-MM-DD HH:mm:ss"),e.isloading=!0,a.next=7,i(Object(r["a"])(Object(r["a"])({},e.form),{},{start_time:s,end_time:u,page:o}));case 7:c=a.sent,e.tableData=c.data.result.data,e.isloading=!1,e.totalPage=c.data.result.total;case 12:case"end":return a.stop()}}),a)})))()},getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:RGB(238,239,246)":""},btnPass:function(t,e){var a=this;this.$confirm("你确定".concat(e,"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("通过"!=e){n.next=5;break}return n.next=3,u({id:t});case 3:n.next=7;break;case 5:return n.next=7,c({id:t});case 7:a.getDaoList();case 8:case"end":return n.stop()}}),n)}))))},handleCurrentChange:function(t){this.getDaoList(t)},search:function(){this.getDaoList()}}},f=m,v=(a("dd0a"),a("2877")),b=Object(v["a"])(f,n,l,!1,null,"40258090",null);e["default"]=b.exports},dd0a:function(t,e,a){"use strict";a("861c")}}]);